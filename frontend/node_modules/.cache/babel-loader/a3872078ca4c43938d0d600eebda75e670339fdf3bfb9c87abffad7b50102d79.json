{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nexport default function useKrakenPricesRest(pairs, refreshInterval = 5000) {\n  _s();\n  const [prices, setPrices] = useState({});\n  useEffect(() => {\n    if (!pairs || pairs.length === 0) return;\n    const fetchPrices = () => {\n      pairs.forEach(symbol => {\n        fetch(`https://api.kraken.com/0/public/Ticker?pair=${symbol}`).then(res => res.json()).then(data => {\n          if (!data.result) return;\n          const pairKey = Object.keys(data.result)[0];\n          if (pairKey) {\n            const lastPrice = data.result[pairKey].c[0];\n            setPrices(prev => ({\n              ...prev,\n              [symbol]: parseFloat(lastPrice).toFixed(2)\n            }));\n          }\n        }).catch(err => console.error(`Error fetching ${symbol}:`, err));\n      });\n    };\n    fetchPrices(); // първо зареждане\n    const interval = setInterval(fetchPrices, refreshInterval);\n    return () => clearInterval(interval);\n  }, [pairs, refreshInterval]);\n  return prices;\n}\n_s(useKrakenPricesRest, \"AyDZng7+aEBipOGwqaguTBzobZI=\");","map":{"version":3,"names":["useEffect","useState","useKrakenPricesRest","pairs","refreshInterval","_s","prices","setPrices","length","fetchPrices","forEach","symbol","fetch","then","res","json","data","result","pairKey","Object","keys","lastPrice","c","prev","parseFloat","toFixed","catch","err","console","error","interval","setInterval","clearInterval"],"sources":["C:/Users/User/Documents/Trading212/TradingSimulation/frontend/src/Cryptos/KrakenApiBugSolve.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nexport default function useKrakenPricesRest(pairs, refreshInterval = 5000) {\r\n    const [prices, setPrices] = useState({});\r\n\r\n    useEffect(() => {\r\n        if (!pairs || pairs.length === 0) return;\r\n\r\n        const fetchPrices = () => {\r\n            pairs.forEach(symbol => {\r\n                fetch(`https://api.kraken.com/0/public/Ticker?pair=${symbol}`)\r\n                    .then(res => res.json())\r\n                    .then(data => {\r\n                        if (!data.result) return;\r\n                        const pairKey = Object.keys(data.result)[0];\r\n                        if (pairKey) {\r\n                            const lastPrice = data.result[pairKey].c[0];\r\n                            setPrices(prev => ({\r\n                                ...prev,\r\n                                [symbol]: parseFloat(lastPrice).toFixed(2)\r\n                            }));\r\n                        }\r\n                    })\r\n                    .catch(err => console.error(`Error fetching ${symbol}:`, err));\r\n            });\r\n        };\r\n\r\n        fetchPrices(); // първо зареждане\r\n        const interval = setInterval(fetchPrices, refreshInterval);\r\n\r\n        return () => clearInterval(interval);\r\n    }, [pairs, refreshInterval]);\r\n\r\n    return prices;\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,eAAe,SAASC,mBAAmBA,CAACC,KAAK,EAAEC,eAAe,GAAG,IAAI,EAAE;EAAAC,EAAA;EACvE,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC,CAAC;EAExCD,SAAS,CAAC,MAAM;IACZ,IAAI,CAACG,KAAK,IAAIA,KAAK,CAACK,MAAM,KAAK,CAAC,EAAE;IAElC,MAAMC,WAAW,GAAGA,CAAA,KAAM;MACtBN,KAAK,CAACO,OAAO,CAACC,MAAM,IAAI;QACpBC,KAAK,CAAC,+CAA+CD,MAAM,EAAE,CAAC,CACzDE,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;UACV,IAAI,CAACA,IAAI,CAACC,MAAM,EAAE;UAClB,MAAMC,OAAO,GAAGC,MAAM,CAACC,IAAI,CAACJ,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC;UAC3C,IAAIC,OAAO,EAAE;YACT,MAAMG,SAAS,GAAGL,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,CAACI,CAAC,CAAC,CAAC,CAAC;YAC3Cf,SAAS,CAACgB,IAAI,KAAK;cACf,GAAGA,IAAI;cACP,CAACZ,MAAM,GAAGa,UAAU,CAACH,SAAS,CAAC,CAACI,OAAO,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;UACP;QACJ,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAAC,kBAAkBlB,MAAM,GAAG,EAAEgB,GAAG,CAAC,CAAC;MACtE,CAAC,CAAC;IACN,CAAC;IAEDlB,WAAW,CAAC,CAAC,CAAC,CAAC;IACf,MAAMqB,QAAQ,GAAGC,WAAW,CAACtB,WAAW,EAAEL,eAAe,CAAC;IAE1D,OAAO,MAAM4B,aAAa,CAACF,QAAQ,CAAC;EACxC,CAAC,EAAE,CAAC3B,KAAK,EAAEC,eAAe,CAAC,CAAC;EAE5B,OAAOE,MAAM;AACjB;AAACD,EAAA,CAhCuBH,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}