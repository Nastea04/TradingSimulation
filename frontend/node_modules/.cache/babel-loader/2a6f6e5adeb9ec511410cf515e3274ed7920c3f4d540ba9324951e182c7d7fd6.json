{"ast":null,"code":"import React from \"react\";\nconst sellForm = (id, cryptoSymbol, quantity) => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (!sellQuantity || sellQuantity <= 0) {\n    alert(\"Please enter a valid quantity\");\n    return;\n  }\n  if (sellQuantity > sellForm.maxQuantity) {\n    alert(\"You cannot sell more than you have!\");\n    return;\n  }\n  fetch(\"http://localhost:8080/api/trade/sell\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      userId: user.id,\n      symbol: sellForm.symbol,\n      quantity: parseFloat(sellQuantity),\n      price: 0 // Може да се подаде реалната цена от API-то\n    })\n  }).then(res => res.text()).then(msg => {\n    alert(msg);\n    setSellForm(null);\n    // Reload holdings & history\n    fetch(`http://localhost:8080/api/trade/holdings/${user.id}`).then(res => res.json()).then(data => setHoldings(data));\n    fetch(`http://localhost:8080/api/trade/history/${user.id}`).then(res => res.json()).then(data => setHistory(data));\n  }).catch(err => console.error(\"Sell error:\", err));\n};\nexport default sellForm;","map":{"version":3,"names":["React","sellForm","id","cryptoSymbol","quantity","user","JSON","parse","localStorage","getItem","sellQuantity","alert","maxQuantity","fetch","method","headers","body","stringify","userId","symbol","parseFloat","price","then","res","text","msg","setSellForm","json","data","setHoldings","setHistory","catch","err","console","error"],"sources":["C:/Users/User/Documents/Trading212/TradingSimulation/frontend/src/OtherPages/SellForm.jsx"],"sourcesContent":["import React from \"react\"\r\n\r\nconst sellForm=(id, cryptoSymbol, quantity)=>{\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n     if (!sellQuantity || sellQuantity <= 0) {\r\n            alert(\"Please enter a valid quantity\");\r\n            return;\r\n        }\r\n        if (sellQuantity > sellForm.maxQuantity) {\r\n            alert(\"You cannot sell more than you have!\");\r\n            return;\r\n        }\r\n\r\n        fetch(\"http://localhost:8080/api/trade/sell\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n                userId: user.id,\r\n                symbol: sellForm.symbol,\r\n                quantity: parseFloat(sellQuantity),\r\n                price: 0 // Може да се подаде реалната цена от API-то\r\n            })\r\n        })\r\n            .then(res => res.text())\r\n            .then(msg => {\r\n                alert(msg);\r\n                setSellForm(null);\r\n                // Reload holdings & history\r\n                fetch(`http://localhost:8080/api/trade/holdings/${user.id}`)\r\n                    .then(res => res.json())\r\n                    .then(data => setHoldings(data));\r\n                fetch(`http://localhost:8080/api/trade/history/${user.id}`)\r\n                    .then(res => res.json())\r\n                    .then(data => setHistory(data));\r\n            })\r\n            .catch(err => console.error(\"Sell error:\", err));\r\n}\r\nexport default sellForm;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAACA,CAACC,EAAE,EAAEC,YAAY,EAAEC,QAAQ,KAAG;EACzC,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACpD,IAAI,CAACC,YAAY,IAAIA,YAAY,IAAI,CAAC,EAAE;IACjCC,KAAK,CAAC,+BAA+B,CAAC;IACtC;EACJ;EACA,IAAID,YAAY,GAAGT,QAAQ,CAACW,WAAW,EAAE;IACrCD,KAAK,CAAC,qCAAqC,CAAC;IAC5C;EACJ;EAEAE,KAAK,CAAC,sCAAsC,EAAE;IAC1CC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEV,IAAI,CAACW,SAAS,CAAC;MACjBC,MAAM,EAAEb,IAAI,CAACH,EAAE;MACfiB,MAAM,EAAElB,QAAQ,CAACkB,MAAM;MACvBf,QAAQ,EAAEgB,UAAU,CAACV,YAAY,CAAC;MAClCW,KAAK,EAAE,CAAC,CAAC;IACb,CAAC;EACL,CAAC,CAAC,CACGC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,GAAG,IAAI;IACTd,KAAK,CAACc,GAAG,CAAC;IACVC,WAAW,CAAC,IAAI,CAAC;IACjB;IACAb,KAAK,CAAC,4CAA4CR,IAAI,CAACH,EAAE,EAAE,CAAC,CACvDoB,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACI,IAAI,CAAC,CAAC,CAAC,CACvBL,IAAI,CAACM,IAAI,IAAIC,WAAW,CAACD,IAAI,CAAC,CAAC;IACpCf,KAAK,CAAC,2CAA2CR,IAAI,CAACH,EAAE,EAAE,CAAC,CACtDoB,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACI,IAAI,CAAC,CAAC,CAAC,CACvBL,IAAI,CAACM,IAAI,IAAIE,UAAU,CAACF,IAAI,CAAC,CAAC;EACvC,CAAC,CAAC,CACDG,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAAC,aAAa,EAAEF,GAAG,CAAC,CAAC;AAC5D,CAAC;AACD,eAAe/B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}